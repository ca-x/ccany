<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCany - 管理面板</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>

<body>
    <div class="app">
        <!-- 登录界面 -->
        <div class="login-container" id="loginContainer">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo">
                        <div class="logo-icon">
                            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="48" height="48">
                                <path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#D97757"></path>
                                <path d="M278.698667 638.592l151.04-84.736 2.56-7.381333-2.56-4.053334H422.4l-25.258667-1.578666-86.314666-2.304-74.88-3.114667-72.533334-3.882667-18.261333-3.882666L128 505.088l1.749333-11.264 15.36-10.282667 21.973334 1.92 48.64 3.328 72.874666 5.034667 52.906667 3.114667 78.336 8.149333h12.458667l1.706666-5.034667-4.266666-3.114666-3.285334-3.114667-75.434666-51.072L269.354667 388.693333 226.56 357.632l-23.125333-15.744-11.648-14.762667-5.077334-32.256 20.992-23.082666 28.202667 1.92 7.210667 1.962666 28.586666 21.930667 61.013334 47.232 79.744 58.666667 11.648 9.728 4.693333-3.328 0.554667-2.346667-5.248-8.704-43.349334-78.293333L334.506667 240.896l-20.608-33.066667-5.418667-19.797333a95.018667 95.018667 0 0 1-3.328-23.296l23.893333-32.426667 13.226667-4.309333 31.914667 4.266667 13.44 11.648 19.797333 45.269333 32.085333 71.296 49.792 96.981333 14.592 28.757334 7.765334 26.581333 2.901333 8.192h5.077333v-4.693333l4.053334-54.613334 7.594666-66.986666 7.381334-86.272 2.56-24.277334 12.032-29.141333 23.893333-15.744 18.688 8.96 15.36 21.930667-2.133333 14.208-9.130667 59.221333-17.92 92.885333-11.648 62.165334h6.826667l7.765333-7.765334 31.488-41.813333 52.906667-66.005333 23.296-26.24 27.221333-28.928 17.493333-13.824h33.066667l24.32 36.138666-10.88 37.290667-34.048 43.136-28.16 36.522667-40.448 54.4-25.301333 43.52 2.346666 3.498666 6.016-0.554666 91.392-19.456 49.365334-8.96 58.922666-10.069334 26.624 12.416 2.944 12.629334-10.496 25.856-63.018666 15.530666-73.856 14.762667-110.08 26.026667-1.365334 0.981333 1.578667 1.962667 49.578667 4.693333 21.205333 1.109333h51.882667l96.64 7.210667 25.301333 16.725333 15.146667 20.394667-2.56 15.530667-38.826667 19.797333-52.522667-12.416-122.453333-29.141333-42.026667-10.496h-5.845333v3.498666l34.986667 34.176 64.170666 57.898667 80.298667 74.624 4.096 18.474667-10.325333 14.549333-10.88-1.536-70.570667-53.034667-27.221333-23.893333-61.653334-51.882667h-4.053333v5.418667l14.165333 20.778667 75.093334 112.682666 3.84 34.56-5.418667 11.306667-19.456 6.826667-21.376-3.925334-43.946667-61.568-45.312-69.376-36.522666-62.165333-4.48 2.56-21.589334 232.106667-10.112 11.904-23.338666 8.917333-19.456-14.762667-10.282667-23.893333 10.282667-47.232 12.458666-61.568 10.112-48.981333 9.130667-60.8 5.461333-20.181334-0.426666-1.365333-4.437334 0.554667-45.866666 62.976-69.802667 94.208-55.253333 59.050666-13.226667 5.248-22.912-11.818666 2.133333-21.205334 12.8-18.816 76.458667-97.152 46.08-60.245333 29.738667-34.773333-0.213334-5.034667h-1.706666L260.181333 721.92l-36.181333 4.693333-15.530667-14.592 1.92-23.893333 7.381334-7.765333 61.056-41.984-0.170667 0.213333z" fill="#FFFFFF"></path>
                            </svg>
                        </div>
                        <h1>CCany</h1>
                    </div>
                    <p data-i18n="login.title">管理员登录</p>
                    <div class="login-language-selector">
                        <select id="loginLanguageSelect">
                            <option value="zh-CN">中文</option>
                            <option value="en-US">English</option>
                        </select>
                    </div>
                </div>
                <form class="login-form" id="loginForm">
                    <div class="form-group">
                        <label for="username" data-i18n="login.username">用户名</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password" data-i18n="login.password">密码</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" data-i18n="login.login_button">登录</button>
                </form>
                <div class="login-error" id="loginError"></div>
            </div>
        </div>

        <!-- 主应用界面 -->
        <div class="main-app" id="mainApp" style="display: none;">
            <!-- 侧边栏 -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <div class="logo">
                        <div class="logo-icon">
                            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                                <path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#D97757"></path>
                                <path d="M278.698667 638.592l151.04-84.736 2.56-7.381333-2.56-4.053334H422.4l-25.258667-1.578666-86.314666-2.304-74.88-3.114667-72.533334-3.882667-18.261333-3.882666L128 505.088l1.749333-11.264 15.36-10.282667 21.973334 1.92 48.64 3.328 72.874666 5.034667 52.906667 3.114667 78.336 8.149333h12.458667l1.706666-5.034667-4.266666-3.114666-3.285334-3.114667-75.434666-51.072L269.354667 388.693333 226.56 357.632l-23.125333-15.744-11.648-14.762667-5.077334-32.256 20.992-23.082666 28.202667 1.92 7.210667 1.962666 28.586666 21.930667 61.013334 47.232 79.744 58.666667 11.648 9.728 4.693333-3.328 0.554667-2.346667-5.248-8.704-43.349334-78.293333L334.506667 240.896l-20.608-33.066667-5.418667-19.797333a95.018667 95.018667 0 0 1-3.328-23.296l23.893333-32.426667 13.226667-4.309333 31.914667 4.266667 13.44 11.648 19.797333 45.269333 32.085333 71.296 49.792 96.981333 14.592 28.757334 7.765334 26.581333 2.901333 8.192h5.077333v-4.693333l4.053334-54.613334 7.594666-66.986666 7.381334-86.272 2.56-24.277334 12.032-29.141333 23.893333-15.744 18.688 8.96 15.36 21.930667-2.133333 14.208-9.130667 59.221333-17.92 92.885333-11.648 62.165334h6.826667l7.765333-7.765334 31.488-41.813333 52.906667-66.005333 23.296-26.24 27.221333-28.928 17.493333-13.824h33.066667l24.32 36.138666-10.88 37.290667-34.048 43.136-28.16 36.522667-40.448 54.4-25.301333 43.52 2.346666 3.498666 6.016-0.554666 91.392-19.456 49.365334-8.96 58.922666-10.069334 26.624 12.416 2.944 12.629334-10.496 25.856-63.018666 15.530666-73.856 14.762667-110.08 26.026667-1.365334 0.981333 1.578667 1.962667 49.578667 4.693333 21.205333 1.109333h51.882667l96.64 7.210667 25.301333 16.725333 15.146667 20.394667-2.56 15.530667-38.826667 19.797333-52.522667-12.416-122.453333-29.141333-42.026667-10.496h-5.845333v3.498666l34.986667 34.176 64.170666 57.898667 80.298667 74.624 4.096 18.474667-10.325333 14.549333-10.88-1.536-70.570667-53.034667-27.221333-23.893333-61.653334-51.882667h-4.053333v5.418667l14.165333 20.778667 75.093334 112.682666 3.84 34.56-5.418667 11.306667-19.456 6.826667-21.376-3.925334-43.946667-61.568-45.312-69.376-36.522666-62.165333-4.48 2.56-21.589334 232.106667-10.112 11.904-23.338666 8.917333-19.456-14.762667-10.282667-23.893333 10.282667-47.232 12.458666-61.568 10.112-48.981333 9.130667-60.8 5.461333-20.181334-0.426666-1.365333-4.437334 0.554667-45.866666 62.976-69.802667 94.208-55.253333 59.050666-13.226667 5.248-22.912-11.818666 2.133333-21.205334 12.8-18.816 76.458667-97.152 46.08-60.245333 29.738667-34.773333-0.213334-5.034667h-1.706666L260.181333 721.92l-36.181333 4.693333-15.530667-14.592 1.92-23.893333 7.381334-7.765333 61.056-41.984-0.170667 0.213333z" fill="#FFFFFF"></path>
                            </svg>
                        </div>
                        <h1>CCany</h1>
                    </div>
                    <div class="user-info">
                        <div class="language-selector">
                            <select id="languageSelect">
                                <option value="zh-CN">中文</option>
                                <option value="en-US">English</option>
                            </select>
                        </div>
                        <div class="user-profile">
                            <div class="user-avatar" id="userAvatar"></div>
                            <div class="user-details">
                                <div class="user-info-text">
                                    <span class="user-name" id="userName">管理员</span>
                                    <span class="user-role" id="currentUserRole">管理员</span>
                                </div>
                                <div class="logout-icon" id="logoutBtn" title="退出" data-i18n-title="login.logout">
                                    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                        <path d="M918.857143 763.428571h-80.342857c-5.485714 0-10.628571 2.4-14.057143 6.628572-8 9.714286-16.571429 19.085714-25.6 28a404.388571 404.388571 0 0 1-128.8 86.742857A403.2 403.2 0 0 1 512.457143 916.571429c-54.742857 0-107.771429-10.742857-157.6-31.771429a404.388571 404.388571 0 0 1-128.8-86.742857 403.748571 403.748571 0 0 1-86.857143-128.571429C118.057143 619.657143 107.428571 566.742857 107.428571 512s10.742857-107.657143 31.771429-157.485714c20.342857-48.114286 49.6-91.428571 86.857143-128.571429s80.571429-66.4 128.8-86.742857c49.828571-21.028571 102.857143-31.771429 157.6-31.771429 54.742857 0 107.771429 10.628571 157.6 31.771429 48.228571 20.342857 91.542857 49.6 128.8 86.742857 9.028571 9.028571 17.485714 18.4 25.6 28 3.428571 4.228571 8.685714 6.628571 14.057143 6.628572H918.857143c7.2 0 11.657143-8 7.657143-14.057143C838.857143 110.285714 685.485714 20.114286 511.2 20.571429 237.371429 21.257143 17.828571 243.542857 20.571429 517.028571 23.314286 786.171429 242.514286 1003.428571 512.457143 1003.428571c173.828571 0 326.514286-90.057143 414.057143-225.942857 3.885714-6.057143-0.457143-14.057143-7.657143-14.057143z m101.6-258.628571L858.285714 376.8c-6.057143-4.8-14.857143-0.457143-14.857143 7.2v86.857143H484.571429c-5.028571 0-9.142857 4.114286-9.142858 9.142857v64c0 5.028571 4.114286 9.142857 9.142858 9.142857h358.857142v86.857143c0 7.657143 8.914286 12 14.857143 7.2l162.171429-128a9.142857 9.142857 0 0 0 0-14.4z" fill="currentColor"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-menu">
                    <a href="#dashboard" class="menu-item active" data-tab="dashboard">
                        <span class="menu-icon">
                            <svg viewBox="0 0 1248 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                <path d="M31.008 98.56c8-24.128 24.096-32.96 47.296-32.48 44.832 0.96 89.728 0.224 134.624 0.32 27.488 0.064 42.24 15.552 42.24 45.216 0.064 266.816 0.064 533.632 0 800.48 0 29.728-14.656 45.408-42.016 45.472-44.896 0.128-89.76-0.64-134.624 0.32-23.104 0.512-39.296-8.224-47.552-32.192 0-275.712 0-551.424 0-827.136z" fill="currentColor"></path>
                                <path d="M891.808 533.024c0 123.648 0.128 247.328-0.224 371.008-0.032 11.424-2.048 23.232-5.152 34.176-3.776 13.12-13.152 19.584-26.432 19.52-47.584-0.224-95.168 0.128-142.72-0.192-26.688-0.16-49.952-25.76-49.952-54.4-0.032-247.36-0.032-494.656 0-742.016 0-16.8 4.8-24.768 19.744-29.248 9.504-2.848 19.648-4.32 29.472-4.416 47.936-0.448 95.936-0.32 143.872-0.128 26.24 0.064 31.392 5.92 31.424 34.688 0 123.68 0 247.36 0 371.04z" fill="currentColor"></path>
                                <path d="M573.632 645.664c0 89.472 0.032 178.944 0 268.416-0.032 38.88-4.352 43.52-40.256 43.52-41.408 0-82.88 0.8-124.224-0.512-12.512-0.416-25.536-5.024-37.088-10.656-16.16-7.84-23.488-21.312-23.36-42.624 0.832-175.2 0.48-350.432 0.48-525.632 0-17.76 2.56-21.696 19.072-24.768 10.496-1.952 21.312-2.88 31.968-2.944 50.208-0.288 100.448-0.16 150.72-0.128 22.112 0.032 22.688 0.768 22.688 24.32 0 90.368 0 180.672 0 270.976z" fill="currentColor"></path>
                                <path d="M1209.824 786.944c0 46.208 0 92.384-0.032 138.592-0.032 20.832-9.344 31.808-28.768 31.936-49.472 0.384-98.944 0.288-148.416-0.064-6.752-0.032-13.728-1.952-20.192-4.288-23.68-8.544-26.752-13.44-26.752-40 0-87.424 0-174.816 0-262.24 0-17.184 0.32-17.632 15.904-17.632 65.984-0.032 131.904 0.128 197.888-0.128 8.16-0.032 10.528 2.848 10.496 11.488-0.32 47.456-0.128 94.912-0.128 142.368z" fill="currentColor"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu.dashboard">仪表板</span>
                    </a>
                    <a href="#requests" class="menu-item" data-tab="requests">
                        <span class="menu-icon">
                            <svg viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                <path d="M512.61025 108.624553A402.765197 402.765197 0 1 0 915.375447 512.61025 403.253397 403.253397 0 0 0 512.61025 108.624553z m0 732.300358A329.535161 329.535161 0 1 1 842.145411 512.61025 329.779261 329.779261 0 0 1 512.61025 840.924911z m172.578785-358.583075H549.225268v-143.530871a36.615018 36.615018 0 0 0-73.230036 0v180.145888a36.615018 36.615018 0 0 0 36.615018 36.615018h172.578785a36.615018 36.615018 0 0 0 0-73.230035z" fill="currentColor"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu.requests">请求日志</span>
                    </a>
                    <a href="#config" class="menu-item" data-tab="config">
                        <span class="menu-icon">
                            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                <path d="M672 704a128 128 0 0 1 124.096 96.384l3.904-0.384h128a32 32 0 1 1 0 64h-128l-3.968-0.32a128 128 0 0 1-248.064 0L544 864h-448a32 32 0 1 1 0-64h448l3.904 0.384A128 128 0 0 1 672 704z m0 64a64 64 0 1 0 0 128 64 64 0 0 0 0-128z m-320-384a128 128 0 0 1 124.096 96.384L480 480h448a32 32 0 0 1 5.76 63.488l-5.76 0.512h-448l-3.968-0.32a128 128 0 0 1-248.064 0L224 544h-128a32 32 0 0 1-5.76-63.488L96 480h128l3.904 0.384A128 128 0 0 1 352 384z m0 64a64 64 0 1 0 0 128 64 64 0 0 0 0-128z m320-384a128 128 0 0 1 124.096 96.384L800 160h128a32 32 0 0 1 5.76 63.488l-5.76 0.512h-128l-3.968-0.32a128 128 0 0 1-248.064 0L544 224h-448a32 32 0 0 1-5.76-63.488L96 160h448l3.904 0.384A128 128 0 0 1 672 64z m0 64a64 64 0 1 0 0 128 64 64 0 0 0 0-128z" fill="currentColor"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu.config">配置管理</span>
                    </a>
                    <a href="#users" class="menu-item" data-tab="users">
                        <span class="menu-icon">
                            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                <path d="M824.896 560.384C925.248 616 1004.224 714.624 1024 832c0 105.984-86.016 192-192 192h-88.448a255.317333 255.317333 0 0 0 79.36-128H832c35.392 0 64-28.608 64-64-16.512-63.744-60.096-117.248-116.608-151.68a466.389333 466.389333 0 0 0-118.848-136c7.424-12.608 13.824-25.792 19.392-39.296C730.944 488.128 768 440.64 768 384v-128c0-56.704-37.056-104.192-88.128-121.024-20.864-50.752-55.04-94.144-97.344-127.936C601.088 2.752 620.16 0 640 0c141.376 0 256 114.624 256 256v128c0 68.544-27.328 130.432-71.104 176.384zM576 1024H192c-106.048 0-192-86.016-192-192 19.776-117.376 98.752-216 199.168-271.616C155.328 514.432 128 452.544 128 384v-128C128 114.624 242.624 0 384 0s256 114.624 256 256v128c0 68.544-27.328 130.432-71.104 176.384C669.248 616 748.224 714.624 768 832c0 105.984-86.016 192-192 192z m-64-640v-128c0-70.656-57.344-128-128-128s-128 57.344-128 128v128c0 70.656 57.344 128 128 128s128-57.344 128-128z m128 448c-28.544-110.272-136.896-192-256-192-119.168 0-227.456 81.728-256 192a64 64 0 0 0 64 64h384c35.392 0 64-28.608 64-64z" fill="currentColor"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu.users">用户管理</span>
                    </a>
                    <a href="#test" class="menu-item" data-tab="test">
                        <span class="menu-icon">
                            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                <path d="M512 768a42.666667 42.666667 0 0 1 0 85.333333H243.2C156.288 853.333333 85.333333 784.341333 85.333333 698.666667v-373.333334C85.333333 239.658667 156.288 170.666667 243.2 170.666667h537.6C867.712 170.666667 938.666667 239.658667 938.666667 325.333333v205.354667a42.666667 42.666667 0 0 1-85.333334 0V325.333333C853.333333 287.317333 821.12 256 780.8 256H243.2C202.88 256 170.666667 287.317333 170.666667 325.333333v373.333334C170.666667 736.682667 202.88 768 243.2 768H512z m213.333333-85.333333v-64a42.666667 42.666667 0 1 1 85.333334 0V682.666667h64a42.666667 42.666667 0 1 1 0 85.333333H810.666667v64a42.666667 42.666667 0 1 1-85.333334 0V768h-64a42.666667 42.666667 0 1 1 0-85.333333H725.333333z m-340.181333-170.666667L294.656 421.504A42.666667 42.666667 0 0 1 354.986667 361.130667l105.6 105.6a64 64 0 0 1 0 90.538666L354.986667 662.869333a42.666667 42.666667 0 1 1-60.330667-60.373333L385.152 512z" fill="currentColor"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu.test">API测试</span>
                    </a>
                    <a href="#help" class="menu-item" data-tab="help">
                        <span class="menu-icon">
                            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                <path d="M512 64c247.466667 0 448 200.533333 448 448s-200.533333 448-448 448S64 759.466667 64 512 264.533333 64 512 64z m0 85.333333C311.466667 149.333333 149.333333 311.466667 149.333333 512s162.133333 362.666667 362.666667 362.666667 362.666667-162.133333 362.666667-362.666667S712.533333 149.333333 512 149.333333z m0 512c29.866667 0 53.333333 23.466667 53.333333 53.333334S541.866667 768 512 768s-53.333333-23.466667-53.333333-53.333333S482.133333 661.333333 512 661.333333z m0-405.333333c23.466667 0 42.666667 19.2 42.666667 42.666667v256c0 23.466667-19.2 42.666667-42.666667 42.666666s-42.666667-19.2-42.666667-42.666666V298.666667c0-23.466667 19.2-42.666667 42.666667-42.666667z" fill="currentColor"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu.help">使用帮助</span>
                    </a>
                </div>

                <div class="sidebar-footer">
                    <div class="status-indicator">
                        <div class="status-dot" id="statusDot"></div>
                        <span class="status-text" id="statusText">检查中...</span>
                    </div>
                </div>
            </nav>

            <!-- 主内容区 -->
            <main class="main-content">
                <!-- 仪表板 -->
                <div class="tab-content active" id="dashboard">
                    <div class="page-header">
                        <h2 data-i18n="dashboard.title">仪表板</h2>
                        <p data-i18n="dashboard.subtitle">Claude Code Proxy 运行状态概览</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">📈</div>
                            <div class="stat-content">
                                <div class="stat-value" id="totalRequests">-</div>
                                <div class="stat-label" data-i18n="dashboard.total_requests">总请求数</div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">⚡</div>
                            <div class="stat-content">
                                <div class="stat-value" id="avgResponseTime">-</div>
                                <div class="stat-label" data-i18n="dashboard.avg_response_time">平均响应时间</div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">✅</div>
                            <div class="stat-content">
                                <div class="stat-value" id="successRate">-</div>
                                <div class="stat-label" data-i18n="dashboard.success_rate">成功率</div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">🔥</div>
                            <div class="stat-content">
                                <div class="stat-value" id="tokensUsed">-</div>
                                <div class="stat-label" data-i18n="dashboard.tokens_used">Token使用量</div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3 data-i18n="dashboard.system_info">系统信息</h3>
                            <div class="info-list">
                                <div class="info-item">
                                    <span class="info-label" data-i18n="dashboard.version">版本:</span>
                                    <span class="info-value">v1.0.0</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-i18n="dashboard.uptime">运行时间:</span>
                                    <span class="info-value" id="uptime">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-i18n="dashboard.current_model">当前模型:</span>
                                    <span class="info-value" id="currentModel">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <h3 data-i18n="dashboard.recent_requests">最近请求</h3>
                            <div class="recent-requests" id="recentRequests">
                                <div class="loading" data-i18n="dashboard.loading">加载中...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 请求日志 -->
                <div class="tab-content" id="requests">
                    <div class="page-header">
                        <h2 data-i18n="requests.title">请求日志</h2>
                        <p data-i18n="requests.subtitle">查看所有API请求的详细记录</p>
                    </div>

                    <div class="table-container">
                        <div class="table-header">
                            <div class="search-container">
                                <div class="search-box">
                                    <input type="text" placeholder="搜索请求..." id="searchInput"
                                        data-i18n-placeholder="requests.search_placeholder">
                                    <div class="search-icon" id="searchBtn">
                                        <svg t="1752296469134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M672.438 352C790.22 352 885.7 447.516 885.7 565.333c0 52.862-19.22 101.233-51.052 138.503l127.065 128.033c12.45 12.544 12.373 32.805-0.171 45.255-12.42 12.325-32.401 12.373-44.88 0.2l-0.375-0.372L786.16 745.837c-32.915 20.795-71.914 32.83-113.722 32.83-117.784 0-213.263-95.516-213.263-213.334C459.175 447.516 554.654 352 672.437 352zM320.575 821.333c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H86c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h234.575z m0-341.333c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H86c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996L86 480h234.575zM939 138.667c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H86c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h853z" fill="currentColor"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="date-range-container">
                                    <div class="date-input-group">
                                        <label data-i18n="requests.start_time">开始时间</label>
                                        <input type="datetime-local" id="startTime" class="date-input">
                                    </div>
                                    <div class="date-input-group">
                                        <label data-i18n="requests.end_time">结束时间</label>
                                        <input type="datetime-local" id="endTime" class="date-input">
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary refresh-btn" id="refreshLogs" data-i18n="requests.refresh">刷新</button>
                        </div>

                        <table class="requests-table">
                            <thead>
                                <tr>
                                    <th data-i18n="requests.time">时间</th>
                                    <th data-i18n="requests.model">模型</th>
                                    <th data-i18n="requests.status">状态</th>
                                    <th data-i18n="requests.response_time">响应时间</th>
                                    <th data-i18n="requests.token">Token</th>
                                    <th data-i18n="requests.actions">操作</th>
                                </tr>
                            </thead>
                            <tbody id="requestsTableBody">
                                <tr>
                                    <td colspan="6" class="loading" data-i18n="requests.loading">加载中...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 配置管理 -->
                <div class="tab-content" id="config">
                    <div class="page-header">
                        <h2 data-i18n="config.title">配置管理</h2>
                        <p data-i18n="config.subtitle">管理Claude Code代理服务器的配置参数</p>
                    </div>

                    <div class="config-sections">
                        <!-- Claude配置 -->
                        <div class="config-section">
                            <div class="config-section-header">
                                <h3 data-i18n="config.claude_config">Claude配置</h3>
                                <p data-i18n="config.claude_config_desc">Claude API的基本配置设置</p>
                            </div>
                            <div class="config-fields">
                                <div class="form-group">
                                    <label data-i18n="config.anthropic_auth_token">Anthropic Auth Token</label>
                                    <div class="input-with-toggle">
                                        <input type="password" id="anthropicAuthToken" placeholder="Enter Anthropic Auth Token"
                                            data-i18n-placeholder="config.anthropic_auth_token_placeholder">
                                        <button type="button" class="password-toggle-btn" onclick="togglePasswordVisibility('anthropicAuthToken')">
                                            <span class="eye-icon">
                                                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                                    <path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3-7.7 16.2-7.7 35.2 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z" fill="currentColor"></path>
                                                    <path d="M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z m0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" fill="currentColor"></path>
                                                </svg>
                                            </span>
                                        </button>
                                    </div>
                                    <div class="form-hint" data-i18n="config.anthropic_auth_token_hint">用于访问Claude API的认证令牌</div>
                                </div>
                                <div class="form-group">
                                    <label data-i18n="config.anthropic_base_url">Anthropic Base URL</label>
                                    <label for="anthropicBaseUrl">
                                      <input type="text" id="anthropicBaseUrl"
                                                                         data-i18n-placeholder="config.anthropic_base_url_placeholder"></label>
                                    <div class="form-hint" data-i18n="config.anthropic_base_url_hint">自动获取当前页面的Base URL</div>
                                </div>
                            </div>
                        </div>

                        <!-- OpenAI兼容API配置 -->
                        <div class="config-section">
                            <div class="config-section-header">
                                <h3 data-i18n="config.openai_compatible_config">OpenAI兼容API配置</h3>
                                <p data-i18n="config.openai_compatible_config_desc">配置OpenAI兼容的API服务（支持OpenAI、Azure、本地模型等）</p>
                            </div>
                            <div class="config-fields">
                                <div class="config-subsection">
                                    <h4 data-i18n="config.api_settings">API设置</h4>
                                    <div class="form-group">
                                        <label data-i18n="config.openai_api_key">OpenAI API Key</label>
                                        <div class="input-with-toggle">
                                            <input type="password" id="openaiApiKey" placeholder="Enter OpenAI API Key"
                                                data-i18n-placeholder="config.openai_api_key_placeholder">
                                            <button type="button" class="password-toggle-btn" onclick="togglePasswordVisibility('openaiApiKey')">
                                                <span class="eye-icon">
                                                    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                                        <path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3-7.7 16.2-7.7 35.2 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z" fill="currentColor"></path>
                                                        <path d="M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z m0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" fill="currentColor"></path>
                                                    </svg>
                                                </span>
                                            </button>
                                        </div>
                                        <div class="form-hint" data-i18n="config.openai_api_key_hint">目标提供商的API密钥（OpenAI、Azure、本地模型等）</div>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="config.openai_base_url">OpenAI Base URL</label>
                                        <input type="text" id="openaiBaseUrl" placeholder="https://api.openai.com/v1"
                                            data-i18n-placeholder="config.openai_base_url_placeholder">
                                        <div class="form-hint" data-i18n="config.openai_base_url_hint">OpenAI兼容API的基础URL</div>
                                        <div class="final-endpoint-display" id="openaiEndpointDisplay">
                                            <span class="endpoint-label" data-i18n="config.final_endpoint">最终端点：</span>
                                            <span class="endpoint-url" id="openaiEndpointUrl">https://api.openai.com/v1/chat/completions</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="config-subsection">
                                    <h4 data-i18n="config.model_mapping">模型映射</h4>
                                    <div class="form-group">
                                        <label data-i18n="config.big_model">大模型 (Sonnet/Opus)</label>
                                        <div class="input-with-button">
                                            <input type="text" id="bigModel" placeholder="gpt-4o"
                                                data-i18n-placeholder="config.big_model_placeholder">
                                            <div class="test-model-icon" data-model="big" title="测试模型" data-i18n-title="config.test_model">
                                                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                                                    <path d="M512 62C263.39545479 62 62 263.35454521 62 512c0 248.60454521 201.39545479 450 450 450s450-201.39545479 450-450c0-248.64545479-201.39545479-450-450-450z m212.60454521 470.25l-165.3954539 164.25c-11.20909131 11.25-29.25 11.25-39.3545461 0-11.25-11.20909131-11.25-29.25 0-39.39545479l116.95909132-116.95909042h-346.5c-15.75 0-28.14545479-12.39545479-28.14545479-28.14545479s12.39545479-28.14545479 28.14545479-28.14545479h346.17272695l-117.77727217-117c-11.25-11.20909131-11.25-29.25 0-39.35454521a28.47272695 28.47272695 0 0 1 40.45909043 0l161.42727305 161.38636347c1.30909131 0.98181826 2.82272695 1.59545479 3.96818174 2.82272784 2.57727305 2.86363653 4.41818174 6.13636347 5.72727216 9.65454521a26.38636347 26.38636347 0 0 1-5.68636348 30.88636348z" fill="currentColor"></path>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="form-hint" data-i18n="config.big_model_hint">Claude Sonnet和Opus请求将映射到此模型</div>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="config.small_model">小模型 (Haiku)</label>
                                        <div class="input-with-button">
                                            <input type="text" id="smallModel" placeholder="gpt-4o-mini"
                                                data-i18n-placeholder="config.small_model_placeholder">
                                            <div class="test-model-icon" data-model="small" title="测试模型" data-i18n-title="config.test_model">
                                                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                                                    <path d="M512 62C263.39545479 62 62 263.35454521 62 512c0 248.60454521 201.39545479 450 450 450s450-201.39545479 450-450c0-248.64545479-201.39545479-450-450-450z m212.60454521 470.25l-165.3954539 164.25c-11.20909131 11.25-29.25 11.25-39.3545461 0-11.25-11.20909131-11.25-29.25 0-39.39545479l116.95909132-116.95909042h-346.5c-15.75 0-28.14545479-12.39545479-28.14545479-28.14545479s12.39545479-28.14545479 28.14545479-28.14545479h346.17272695l-117.77727217-117c-11.25-11.20909131-11.25-29.25 0-39.35454521a28.47272695 28.47272695 0 0 1 40.45909043 0l161.42727305 161.38636347c1.30909131 0.98181826 2.82272695 1.59545479 3.96818174 2.82272784 2.57727305 2.86363653 4.41818174 6.13636347 5.72727216 9.65454521a26.38636347 26.38636347 0 0 1-5.68636348 30.88636348z" fill="currentColor"></path>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="form-hint" data-i18n="config.small_model_hint">Claude Haiku请求将映射到此模型</div>
                                    </div>
                                </div>

                                <div class="config-subsection">
                                    <h4 data-i18n="config.performance_settings">性能设置</h4>
                                    <div class="form-group">
                                        <label data-i18n="config.max_tokens_limit">最大Token限制</label>
                                        <input type="number" id="maxTokensLimit" placeholder="4096"
                                            data-i18n-placeholder="config.max_tokens_limit_placeholder">
                                        <div class="form-hint" data-i18n="config.max_tokens_limit_hint">单次请求的最大Token数量</div>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="config.request_timeout">请求超时 (秒)</label>
                                        <input type="number" id="requestTimeout" placeholder="90"
                                            data-i18n-placeholder="config.request_timeout_placeholder">
                                        <div class="form-hint" data-i18n="config.request_timeout_hint">API请求的超时时间</div>
                                    </div>
                                </div>

                                <div class="config-subsection">
                                    <h4 data-i18n="config.proxy_settings">代理设置</h4>
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="proxyEnabled">
                                            <span data-i18n="config.enable_proxy">启用代理</span>
                                        </label>
                                        <div class="form-hint" data-i18n="config.proxy_config_desc">配置HTTP或SOCKS5代理以访问API服务</div>
                                    </div>

                                    <div class="proxy-config-section" id="proxyConfigSection" style="display: none;">
                                        <div class="form-group">
                                            <label data-i18n="config.proxy_type">代理类型</label>
                                            <select id="proxyType">
                                                <option value="http" data-i18n="config.proxy_type_http">HTTP代理</option>
                                                <option value="socks5" data-i18n="config.proxy_type_socks5">SOCKS5代理</option>
                                            </select>
                                        </div>

                                        <div class="proxy-type-config" id="httpProxyConfig">
                                            <div class="form-group">
                                                <label data-i18n="config.http_proxy">HTTP代理地址</label>
                                                <input type="text" id="httpProxy" placeholder="http://proxy.example.com:8080"
                                                    data-i18n-placeholder="config.http_proxy_placeholder">
                                                <div class="form-hint" data-i18n="config.http_proxy_hint">HTTP代理服务器地址，格式：http://host:port</div>
                                            </div>
                                        </div>

                                        <div class="proxy-type-config" id="socks5ProxyConfig" style="display: none;">
                                            <div class="form-group">
                                                <label data-i18n="config.socks5_proxy">SOCKS5代理地址</label>
                                                <input type="text" id="socks5Proxy" placeholder="proxy.example.com:1080"
                                                    data-i18n-placeholder="config.socks5_proxy_placeholder">
                                                <div class="form-hint" data-i18n="config.socks5_proxy_hint">SOCKS5代理服务器地址，格式：host:port</div>
                                            </div>
                                            <div class="form-group">
                                                <label data-i18n="config.socks5_username">SOCKS5用户名</label>
                                                <input type="text" id="socks5Username" placeholder="用户名（可选）"
                                                    data-i18n-placeholder="config.socks5_username_placeholder">
                                                <div class="form-hint" data-i18n="config.socks5_username_hint">SOCKS5代理的用户名（如果需要认证）</div>
                                            </div>
                                            <div class="form-group">
                                                <label data-i18n="config.socks5_password">SOCKS5密码</label>
                                                <input type="password" id="socks5Password" placeholder="密码（可选）"
                                                    data-i18n-placeholder="config.socks5_password_placeholder">
                                                <div class="form-hint" data-i18n="config.socks5_password_hint">SOCKS5代理的密码（如果需要认证）</div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="ignoreSSL">
                                                <span data-i18n="config.ignore_ssl">忽略SSL验证</span>
                                            </label>
                                            <div class="form-hint" data-i18n="config.ignore_ssl_hint">跳过SSL证书验证（仅在测试环境使用）</div>
                                        </div>

                                        <div class="proxy-test-section" id="proxyTestSection" style="display: none;">
                                            <div class="form-group">
                                                <label data-i18n="config.proxy_test_url">测试URL</label>
                                                <div class="input-with-button">
                                                    <input type="text" id="proxyTestUrl" placeholder="https://httpbin.org/ip" value="https://httpbin.org/ip">
                                                    <div class="test-proxy-icon" id="testProxyBtn" title="测试代理连接" data-i18n-title="config.test_proxy">
                                                        <svg t="1752298172749" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                                            <path d="M894.424364 729.008452c-53.43705-151.726633-194.117093-258.544451-354.425171-269.737374v-64.9912c87.777159-13.472849 155.219177-89.505523 155.219177-180.992167 0-100.968599-82.144882-183.113481-183.113481-183.113481s-183.113481 82.144882-183.113481 183.113481c0 91.487667 67.442018 167.518295 155.219177 180.992167v64.9912c-160.309102 11.1919-300.993239 118.007671-354.429265 269.728165-71.986521 2.539846-129.764436 61.880349-129.764435 134.475737 0 74.204026 60.365856 134.569882 134.569881 134.569882s134.569882-60.365856 134.569882-134.569882c0-56.175417-34.600029-104.409978-83.604117-124.537388 47.802726-125.075647 165.031661-212.908064 298.657031-223.73362v216.59299c-60.916395 12.8384-106.784048 66.997903-106.784048 131.679041 0 74.204026 60.365856 134.569882 134.569881 134.569882s134.569882-60.365856 134.569882-134.569882c0-64.603367-45.759183-118.709659-106.567108-131.630946v-216.640062c133.584438 10.82351 250.799046 98.622158 298.622238 223.657896-49.101301 20.082384-83.787288 68.36811-83.787288 124.613112 0 74.204026 60.365856 134.569882 134.569882 134.569882s134.569882-60.365856 134.569881-134.569882c0.001023-72.523757-57.662281-131.818211-129.548518-134.467551z m-681.057347 134.466528c0 43.435255-35.344996 78.780251-78.780251 78.780251s-78.780251-35.344996-78.780251-78.780251 35.344996-78.780251 78.780251-78.780251c3.151783 0 6.255471 0.206708 9.312087 0.569982 1.287319 0.277316 2.577708 0.459464 3.859911 0.553608 37.184901 6.288217 65.608254 38.71065 65.608253 77.656661z m171.412998-650.186246c0-70.214155 57.110719-127.32385 127.323851-127.32385s127.32385 57.110719 127.32385 127.32385c0 70.214155-57.110719 127.32385-127.32385 127.323851s-127.32385-57.109696-127.323851-127.323851z m205.996654 650.186246c0 43.435255-35.344996 78.780251-78.780251 78.780251-43.435255 0-78.780251-35.344996-78.780251-78.780251s35.344996-78.780251 78.780251-78.780251c43.434232 0 78.780251 35.343973 78.780251 78.780251z m298.627355 78.781274c-43.435255 0-78.780251-35.344996-78.780251-78.780251 0-39.041178 28.561499-71.529103 65.880453-77.706803a28.15627 28.15627 0 0 0 3.627621-0.510629 79.109756 79.109756 0 0 1 9.272177-0.563842c43.435255 0 78.780251 35.344996 78.780251 78.780251 0.002047 43.435255-35.343973 78.781274-78.780251 78.781274z" fill="currentColor"></path>
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div class="form-hint">测试代理连接是否正常工作</div>
                                            </div>

                                            <div class="proxy-test-result" id="proxyTestResult" style="display: none;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 服务器配置 -->
                        <div class="config-section">
                            <div class="config-section-header">
                                <h3 data-i18n="config.server_config">服务器配置</h3>
                                <p data-i18n="config.server_config_desc">服务器运行和安全相关的配置</p>
                            </div>
                            <div class="config-fields">
                                <div class="config-subsection">
                                    <h4 data-i18n="config.server_settings">服务器设置</h4>
                                    <div class="form-group">
                                        <label data-i18n="config.server_host">服务器地址</label>
                                        <input type="text" id="serverHost" placeholder="0.0.0.0"
                                            data-i18n-placeholder="config.server_host_placeholder">
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="config.server_port">服务器端口</label>
                                        <input type="number" id="serverPort" placeholder="8080"
                                            data-i18n-placeholder="config.server_port_placeholder">
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="config.log_level">日志级别</label>
                                        <select id="logLevel">
                                            <option value="DEBUG">DEBUG</option>
                                            <option value="INFO">INFO</option>
                                            <option value="WARN">WARN</option>
                                            <option value="ERROR">ERROR</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="config-subsection">
                                    <h4 data-i18n="config.security_settings">安全设置</h4>
                                    <div class="form-group">
                                        <label data-i18n="config.jwt_secret">JWT密钥</label>
                                        <div class="input-with-button">
                                            <input type="text" id="jwtSecret" placeholder="Enter JWT Secret"
                                                data-i18n-placeholder="config.jwt_secret_placeholder">
                                            <div class="generate-jwt-icon" id="generateJwtBtn" title="生成随机密钥" data-i18n-title="config.generate_random">
                                                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                                                    <path d="M1022.30016 769.11843555l-247.39157333 66.26304-29.85756445-111.38958222-5.59104-9.69386666c0.79758222-0.95004445 1.39832889-2.04913778 2.19591111-2.99918222L708.65351111 588.11733333l81.08487111 46.82296889c17.07349333-37.82883555 27.56039111-79.20526222 27.56039111-123.48074667 0-169.65518222-137.10222222-307.18065778-306.20899555-307.18065777a303.46581333 303.46581333 0 0 0-62.50837333 6.49671111l-53.17290667-92.05077334c36.74680889-10.84302222 75.49155555-16.89031111 115.68241777-16.8903111 225.77379555 0 408.76032 183.39953778 408.76032 409.57496888 0 62.96803555-14.62840889 122.28494222-39.99288888 175.50563556l142.44181333 82.20330666zM204.93084445 511.45955555c0 169.65518222 137.10222222 307.18065778 306.15779555 307.18065778 16.82659555 0 33.05358222-2.34837333 49.18044445-4.94705778l54.07061333 93.64821334c-33.00238222 8.59477333-67.50208 13.69201778-103.25105778 13.69201778-225.72487111 0-408.70912-183.3984-408.70912-409.62503112 0-48.12231111 9.73596445-93.64821333 24.96398222-136.57315555L0.57571555 340.90325333 222.35591111 212.87367111l128.11605334 221.72899556-124.02119112-33.18328889c-13.48152889 34.13333333-21.51992889 70.96092445-21.51992888 110.04017777z" fill="currentColor"></path>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="form-hint" data-i18n="config.jwt_secret_hint">用于JWT令牌签名的密钥</div>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="config.encrypt_algo">加密算法</label>
                                        <select id="encryptAlgo">
                                            <option value="AES-256-GCM">AES-256-GCM</option>
                                            <option value="ChaCha20-Poly1305">ChaCha20-Poly1305</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="config-actions">
                        <button class="btn btn-secondary test-btn" id="testConfigBtn" data-i18n="config.test_config">测试配置</button>
                        <button class="btn btn-primary save-btn" id="saveConfigBtn" data-i18n="config.save_config">保存配置</button>
                    </div>

                    <div class="config-result" id="configResult"></div>
                </div>

                <!-- 用户管理 -->
                <div class="tab-content" id="users">
                    <div class="page-header">
                        <h2 data-i18n="users.title">用户管理</h2>
                        <p data-i18n="users.subtitle">管理系统用户和权限</p>
                    </div>

                    <div class="table-container">
                        <div class="table-header">
                            <div class="search-box">
                                <input type="text" placeholder="Search users..." id="searchUsers"
                                    data-i18n-placeholder="users.search_placeholder">
                                <button class="btn btn-secondary search-btn">🔍</button>
                            </div>
                            <button class="btn btn-primary add-btn" id="addUserBtn" data-i18n="users.add_user">添加用户</button>
                        </div>

                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th data-i18n="users.username">用户名</th>
                                    <th data-i18n="users.email">邮箱</th>
                                    <th data-i18n="users.role">角色</th>
                                    <th data-i18n="users.status">状态</th>
                                    <th data-i18n="users.last_login">最后登录</th>
                                    <th data-i18n="users.actions">操作</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <tr>
                                    <td colspan="6" class="loading" data-i18n="users.loading">加载中...</td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- 分页容器 -->
                        <div class="pagination-container" id="usersPagination"></div>
                    </div>
                </div>

                <!-- API测试 -->
                <div class="tab-content" id="test">
                    <div class="page-header">
                        <h2 data-i18n="test.title">API测试</h2>
                        <p data-i18n="test.subtitle">测试Claude API的功能和性能</p>
                    </div>

                    <div class="test-grid">
                        <div class="test-card">
                            <h3 data-i18n="test.connection_test">连接测试</h3>
                            <p data-i18n="test.connection_test_desc">测试与OpenAI API的连接状态</p>
                            <button class="btn btn-primary test-btn" id="testConnection" data-i18n="test.test_connection">测试连接</button>
                            <div class="test-result" id="connectionResult"></div>
                        </div>

                        <div class="test-card">
                            <h3 data-i18n="test.message_test">消息测试</h3>
                            <div class="form-group">
                                <label data-i18n="test.select_model">选择模型</label>
                                <select id="testModel">
                                    <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet</option>
                                    <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label data-i18n="test.test_message">测试消息</label>
                                <textarea id="testMessage" placeholder="Enter test message..."
                                    data-i18n-placeholder="test.test_message_placeholder">Hello, please briefly introduce yourself.</textarea>
                            </div>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="testStream"> <span
                                        data-i18n="test.stream_response">流式响应</span>
                                </label>
                            </div>
                            <button class="btn btn-primary test-btn" id="testMessageBtn" data-i18n="test.send_test">发送测试</button>
                            <div class="test-result" id="messageResult"></div>
                        </div>
                    </div>
                </div>

                <!-- 使用帮助 -->
                <div class="tab-content" id="help">
                    <div class="page-header">
                        <h2 data-i18n="help.title">使用帮助</h2>
                        <p data-i18n="help.subtitle">了解如何使用Claude Code与本服务</p>
                    </div>

                    <div class="help-content">
                        <div class="help-section">
                            <h3 data-i18n="help.step1_title">1️⃣ 安装 Node.js</h3>
                            <p data-i18n="help.step1_desc">确保 Node.js 版本 ≥ 18.0（已安装可跳过）</p>

                            <div class="code-block">
                                <div class="code-header">
                                    <span data-i18n="help.ubuntu_debian">Ubuntu / Debian 用户</span>
                                    <button class="copy-btn" data-copy="curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo bash -
sudo apt-get install -y nodejs
node --version">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" fill="currentColor"/>
                                        </svg>
                                    </button>
                                </div>
                                <pre><code>curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo bash -
sudo apt-get install -y nodejs
node --version</code></pre>
                            </div>

                            <div class="code-block">
                                <div class="code-header">
                                    <span data-i18n="help.macos_users">macOS 用户</span>
                                    <button class="copy-btn" data-copy="sudo xcode-select --install
/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
brew install node
node --version">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" fill="currentColor"/>
                                        </svg>
                                    </button>
                                </div>
                                <pre><code>sudo xcode-select --install
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew install node
node --version</code></pre>
                            </div>
                        </div>

                        <div class="help-section">
                            <h3 data-i18n="help.step2_title">2️⃣ 安装 Claude Code</h3>
                            <div class="code-block">
                                <div class="code-header">
                                    <span data-i18n="help.install_claude">安装命令</span>
                                    <button class="copy-btn" data-copy="npm install -g @anthropic-ai/claude-code
claude --version">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" fill="currentColor"/>
                                        </svg>
                                    </button>
                                </div>
                                <pre><code>npm install -g @anthropic-ai/claude-code
claude --version</code></pre>
                            </div>
                        </div>

                        <div class="help-section">
                            <h3 data-i18n="help.step3_title">3️⃣ 开始使用</h3>

                            <div class="config-info">
                                <div class="config-item">
                                    <h4 data-i18n="help.auth_token_title">获取 Auth Token</h4>
                                    <p data-i18n="help.auth_token_desc">ANTHROPIC_AUTH_TOKEN：注册后在 API令牌 页面点击 添加令牌 获得（以 sk- 开头）</p>
                                    <p data-i18n="help.auth_token_note">名称随意，额度建议设为无限额度，其他保持默认设置即可</p>
                                </div>

                                <div class="config-item">
                                    <h4 data-i18n="help.api_url_title">API地址</h4>
                                    <p data-i18n="help.api_url_desc">ANTHROPIC_BASE_URL：<span id="currentDomain" class="domain-highlight">https://anyrouter.top</span> 是本站的 API 服务地址，与主站地址相同</p>
                                </div>
                            </div>

                            <div class="code-block">
                                <div class="code-header">
                                    <span data-i18n="help.usage_commands">使用命令</span>
                                    <button class="copy-btn" data-copy="export ANTHROPIC_AUTH_TOKEN=sk-...
export ANTHROPIC_BASE_URL=https://anyrouter.top
claude" id="usageCommandsCopy">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" fill="currentColor"/>
                                        </svg>
                                    </button>
                                </div>
                                <pre><code id="usageCommands">export ANTHROPIC_AUTH_TOKEN=sk-...
export ANTHROPIC_BASE_URL=https://anyrouter.top
claude</code></pre>
                            </div>

                            <div class="usage-note">
                                <p data-i18n="help.usage_note">先通过cd切换到你的项目文件，然后一键开启claude</p>
                            </div>

                            <div class="usage-steps">
                                <h4 data-i18n="help.after_run_title">运行后</h4>
                                <ul>
                                    <li data-i18n="help.step_theme">选择你喜欢的主题 + Enter</li>
                                    <li data-i18n="help.step_security">确认安全须知 + Enter</li>
                                    <li data-i18n="help.step_terminal">使用默认 Terminal 配置 + Enter</li>
                                    <li data-i18n="help.step_trust">信任工作目录 + Enter</li>
                                </ul>
                                <p class="success-message" data-i18n="help.start_coding">开始在终端里和你的 AI 编程搭档一起写代码吧！🚀</p>
                            </div>
                        </div>

                        <div class="help-section">
                            <h3 data-i18n="help.step4_title">4️⃣ 配置环境变量（推荐）</h3>
                            <p data-i18n="help.step4_desc">为避免每次重复输入，可将环境变量写入 bash_profile 和 bashrc：</p>

                            <div class="code-block">
                                <div class="code-header">
                                    <span data-i18n="help.env_config">环境变量配置</span>
                                    <button class="copy-btn" data-copy="echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.bash_profile
echo -e '\n export ANTHROPIC_BASE_URL=https://anyrouter.top' >> ~/.bash_profile
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.bashrc
echo -e '\n export ANTHROPIC_BASE_URL=https://anyrouter.top' >> ~/.bashrc
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.zshrc
echo -e '\n export ANTHROPIC_BASE_URL=https://anyrouter.top' >> ~/.zshrc" id="envCommandsCopy">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" fill="currentColor"/>
                                        </svg>
                                    </button>
                                </div>
                                <pre><code id="envCommands">echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.bash_profile
echo -e '\n export ANTHROPIC_BASE_URL=https://anyrouter.top' >> ~/.bash_profile
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.bashrc
echo -e '\n export ANTHROPIC_BASE_URL=https://anyrouter.top' >> ~/.bashrc
echo -e '\n export ANTHROPIC_AUTH_TOKEN=sk-...' >> ~/.zshrc
echo -e '\n export ANTHROPIC_BASE_URL=https://anyrouter.top' >> ~/.zshrc</code></pre>
                            </div>

                            <div class="code-block">
                                <div class="code-header">
                                    <span data-i18n="help.final_usage">最终使用</span>
                                    <button class="copy-btn" data-copy="cd your-project-folder
claude">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path d="M16 1H4c-1.1 0-2 .9-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" fill="currentColor"/>
                                        </svg>
                                    </button>
                                </div>
                                <pre><code>cd your-project-folder
claude</code></pre>
                            </div>
                            <p data-i18n="help.env_restart_note">重启终端后，直接使用上述命令即可使用 Claude Code</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- 用户表单模态框 -->
        <div class="modal" id="userModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="userModalTitle" data-i18n="users.add_user">添加用户</h3>
                    <button class="btn btn-secondary close-btn" id="closeUserModal">&times;</button>
                </div>
                <form class="user-form" id="userForm">
                    <input type="hidden" id="userId">
                    <div class="form-group">
                        <label for="userUsername" data-i18n="users.username">用户名</label>
                        <input type="text" id="userUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="userEmail" data-i18n="users.email">邮箱</label>
                        <input type="email" id="userEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="userPassword" data-i18n="users.password">密码</label>
                        <input type="password" id="userPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="userRole" data-i18n="users.role">角色</label>
                        <select id="userRole" required>
                            <option value="user" data-i18n="users.role_user" selected>用户</option>
                            <option value="admin" data-i18n="users.role_admin">管理员</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="userActive" checked> <span
                                data-i18n="users.enable_user">启用用户</span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary cancel-btn" id="cancelUserBtn" data-i18n="users.cancel">取消</button>
                        <button type="submit" class="btn btn-primary save-btn" data-i18n="users.save">保存</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 请求详情模态框 -->
        <div class="modal" id="requestDetailsModal">
            <div class="modal-content request-details-modal">
                <div class="modal-header">
                    <h3 id="requestDetailsTitle" data-i18n="requests.details_title">请求详情</h3>
                    <button class="btn btn-secondary close-btn" id="closeRequestDetailsModal">&times;</button>
                </div>
                <div class="request-details-content" id="requestDetailsContent">
                    <div class="loading" data-i18n="requests.loading_details">加载详情中...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" title="切换主题">
        <svg class="theme-toggle-icon sun" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
            <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <svg class="theme-toggle-icon moon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <script src="/static/js/app.js"></script>
    <script>
        // Toggle password visibility function
        function togglePasswordVisibility(inputId) {
            const input = document.getElementById(inputId);
            const toggleBtn = input.parentNode.querySelector('.password-toggle-btn');
            const eyeIcon = toggleBtn.querySelector('.eye-icon');

            if (input.type === 'password') {
                input.type = 'text';
                // Show "hide" icon when password is visible
                eyeIcon.innerHTML = `<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                    <path d="M942.3 486.4l-0.1-0.1-0.1-0.1c-36.4-76.7-80-138.7-130.7-186L760.7 351c43.7 40.2 81.5 93.7 114.1 160.9C791.5 684.2 673.4 766 512 766c-51.3 0-98.3-8.3-141.2-25.1l-54.7 54.7C374.6 823.8 439.8 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0.1-51.3zM878.3 154.2l-42.4-42.4c-3.1-3.1-8.2-3.1-11.3 0L707.8 228.5C649.4 200.2 584.2 186 512 186c-192.2 0-335.4 100.5-430.2 300.3v0.1c-7.7 16.2-7.7 35.2 0 51.5 36.4 76.7 80 138.7 130.7 186.1L111.8 824.5c-3.1 3.1-3.1 8.2 0 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0l712.8-712.8c3.1-3 3.1-8.1 0-11.2zM398.9 537.4c-1.9-8.2-2.9-16.7-2.9-25.4 0-61.9 50.1-112 112-112 8.7 0 17.3 1 25.4 2.9L398.9 537.4z m184.5-184.5C560.5 342.1 535 336 508 336c-97.2 0-176 78.8-176 176 0 27 6.1 52.5 16.9 75.4L263.3 673c-43.7-40.2-81.5-93.7-114.1-160.9C232.6 339.8 350.7 258 512 258c51.3 0 98.3 8.3 141.2 25.1l-69.8 69.8z" fill="currentColor"></path>
                    <path d="M508 624c-6.4 0-12.7-0.5-18.8-1.6l-51.1 51.1c21.4 9.3 45.1 14.4 69.9 14.4 97.2 0 176-78.8 176-176 0-24.8-5.1-48.5-14.4-69.9l-51.1 51.1c1 6.1 1.6 12.4 1.6 18.8C620 573.9 569.9 624 508 624z" fill="currentColor"></path>
                </svg>`;
            } else {
                input.type = 'password';
                // Show "show" icon when password is hidden
                eyeIcon.innerHTML = `<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                    <path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3-7.7 16.2-7.7 35.2 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z" fill="currentColor"></path>
                    <path d="M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z m0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" fill="currentColor"></path>
                </svg>`;
            }
        }
    </script>
</body>

</html>